@page "/schoolform"
@using MudBlazor
@using BlazorTest.Data
@inject SchoolService SchoolService
@inject NavigationManager NavigationManager



<MudContainer Class="d-flex justify-center align-center" Style="height: 60vh;">
	<MudCard Style="width: 30%;">
		<MudCardContent>
			<MudText Typo="Typo.h6" Style="padding-bottom: 10px;">School Name</MudText>
			<MudTextField @bind-Value="newSchoolName" Variant="Variant.Outlined" Style="height: 30px;"></MudTextField>

			<MudText Typo="Typo.h6" Style="padding-bottom: 10px;">Address</MudText>
			<MudTextField @bind-Value="newAddress" Variant="Variant.Outlined" Style="height: 30px;"></MudTextField>

			<MudText Typo="Typo.h6" Style="padding-bottom: 10px;">School Code</MudText>
			<MudTextField @bind-Value="newSchoolCode" Variant="Variant.Outlined" Style="height: 30px;"></MudTextField>

		</MudCardContent>
		<MudCardActions>
			<MudButton Style="margin-left: 7px;" Variant="Variant.Filled" Color="Color.Primary" @onclick="Save">Add School</MudButton>
			<MudButton Style="margin-left: 8px;" Variant="Variant.Filled" Color="Color.Primary" @onclick="Cancel">Cancel</MudButton>
		</MudCardActions>
	</MudCard>
</MudContainer>



@code {

	private string newSchoolName;
	private string newAddress;
	private string newSchoolCode;

	private void Save()
	{
		var newSchool = new School
		{
			SchoolName= newSchoolName,
			Address = newAddress,
			SchoolCode = newSchoolCode
		};

		SchoolService.Schools.Add(newSchool);
		NavigationManager.NavigateTo("/schoolmain");


	}

	private void Cancel()
	{
		NavigationManager.NavigateTo("/schoolmain");
		
	}


}
